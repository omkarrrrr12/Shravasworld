Options -Indexes
RewriteEngine On

# Redirect requests for page.html -> /page
RewriteCond %{THE_REQUEST} \s/([^\s?]+)\.html [NC]
RewriteRule ^ /%1 [R=301,L]

# If a requested resource doesn't exist, but the .html exists, serve it
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}\.html -f
RewriteRule ^(.*)$ $1.html [L]
